/**
 * Cesium Sensors - https://github.com/AnalyticalGraphicsInc/cesium-sensors
 *
 * Copyright 2011-2014 Analytical Graphics Inc. and Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Portions licensed separately.
 * See https://github.com/AnalyticalGraphicsInc/cesium-sensors/blob/master/LICENSE.md for full licensing details.
 */

/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(){var e,i,t;!function(o){function r(e,i){return S.call(e,i)}function n(e,i){var t,o,r,n,s,a,l,u,c,h,d,m=i&&i.split("/"),f=g.map,C=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(i){for(m=m.slice(0,m.length-1),e=e.split("/"),s=e.length-1,g.nodeIdCompat&&w.test(e[s])&&(e[s]=e[s].replace(w,"")),e=m.concat(e),c=0;c<e.length;c+=1)if(d=e[c],"."===d)e.splice(c,1),c-=1;else if(".."===d){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((m||C)&&f){for(t=e.split("/"),c=t.length;c>0;c-=1){if(o=t.slice(0,c).join("/"),m)for(h=m.length;h>0;h-=1)if(r=f[m.slice(0,h).join("/")],r&&(r=r[o])){n=r,a=c;break}if(n)break;!l&&C&&C[o]&&(l=C[o],u=c)}!n&&l&&(n=l,a=u),n&&(t.splice(0,a,n),e=t.join("/"))}return e}function s(e,i){return function(){return m.apply(o,y.call(arguments,0).concat([e,i]))}}function a(e){return function(i){return n(i,e)}}function l(e){return function(i){p[e]=i}}function u(e){if(r(_,e)){var i=_[e];delete _[e],v[e]=!0,d.apply(o,i)}if(!r(p,e)&&!r(v,e))throw new Error("No "+e);return p[e]}function c(e){var i,t=e?e.indexOf("!"):-1;return t>-1&&(i=e.substring(0,t),e=e.substring(t+1,e.length)),[i,e]}function h(e){return function(){return g&&g.config&&g.config[e]||{}}}var d,m,f,C,p={},_={},g={},v={},S=Object.prototype.hasOwnProperty,y=[].slice,w=/\.js$/;f=function(e,i){var t,o=c(e),r=o[0];return e=o[1],r&&(r=n(r,i),t=u(r)),r?e=t&&t.normalize?t.normalize(e,a(i)):n(e,i):(e=n(e,i),o=c(e),r=o[0],e=o[1],r&&(t=u(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:t}},C={require:function(e){return s(e)},exports:function(e){var i=p[e];return"undefined"!=typeof i?i:p[e]={}},module:function(e){return{id:e,uri:"",exports:p[e],config:h(e)}}},d=function(e,i,t,n){var a,c,h,d,m,g,S=[],y=typeof t;if(n=n||e,"undefined"===y||"function"===y){for(i=!i.length&&t.length?["require","exports","module"]:i,m=0;m<i.length;m+=1)if(d=f(i[m],n),c=d.f,"require"===c)S[m]=C.require(e);else if("exports"===c)S[m]=C.exports(e),g=!0;else if("module"===c)a=S[m]=C.module(e);else if(r(p,c)||r(_,c)||r(v,c))S[m]=u(c);else{if(!d.p)throw new Error(e+" missing "+c);d.p.load(d.n,s(n,!0),l(c),{}),S[m]=p[c]}h=t?t.apply(p[e],S):void 0,e&&(a&&a.exports!==o&&a.exports!==p[e]?p[e]=a.exports:h===o&&g||(p[e]=h))}else e&&(p[e]=t)},e=i=m=function(e,i,t,r,n){if("string"==typeof e)return C[e]?C[e](i):u(f(e,i).f);if(!e.splice){if(g=e,g.deps&&m(g.deps,g.callback),!i)return;i.splice?(e=i,i=t,t=null):e=o}return i=i||function(){},"function"==typeof t&&(t=r,r=n),r?d(o,e,i,t):setTimeout(function(){d(o,e,i,t)},4),m},m.config=function(e){return m(e)},e._defined=p,t=function(e,i,t){i.splice||(t=i,i=[]),r(p,e)||r(_,e)||(_[e]=[e,i,t])},t.amd={jQuery:!0}}(),t("ConicSensorGraphics",["Cesium/Core/defaultValue","Cesium/Core/defined","Cesium/Core/DeveloperError","Cesium/Core/Event","Cesium/DataSources/createMaterialPropertyDescriptor","Cesium/DataSources/createPropertyDescriptor"],function(e,i,t,o,r,n){"use strict";var s=function(i){this._minimumClockAngle=void 0,this._minimumClockAngleSubscription=void 0,this._maximumClockAngle=void 0,this._maximumClockAngleSubscription=void 0,this._innerHalfAngle=void 0,this._innerHalfAngleSubscription=void 0,this._outerHalfAngle=void 0,this._outerHalfAngleSubscription=void 0,this._lateralSurfaceMaterial=void 0,this._lateralSurfaceMaterialSubscription=void 0,this._intersectionColor=void 0,this._intersectionColorSubscription=void 0,this._intersectionWidth=void 0,this._intersectionWidthSubscription=void 0,this._showIntersection=void 0,this._showIntersectionSubscription=void 0,this._radius=void 0,this._radiusSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._definitionChanged=new o,this.merge(e(i,e.EMPTY_OBJECT))};return Object.defineProperties(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},minimumClockAngle:n("minimumClockAngle"),maximumClockAngle:n("maximumClockAngle"),innerHalfAngle:n("innerHalfAngle"),outerHalfAngle:n("outerHalfAngle"),lateralSurfaceMaterial:r("lateralSurfaceMaterial"),intersectionColor:n("intersectionColor"),intersectionWidth:n("intersectionWidth"),showIntersection:n("showIntersection"),radius:n("radius"),show:n("show")}),s.prototype.clone=function(e){return i(e)||(e=new s),e.show=this.show,e.innerHalfAngle=this.innerHalfAngle,e.outerHalfAngle=this.outerHalfAngle,e.minimumClockAngle=this.minimumClockAngle,e.maximumClockAngle=this.maximumClockAngle,e.radius=this.radius,e.showIntersection=this.showIntersection,e.intersectionColor=this.intersectionColor,e.intersectionWidth=this.intersectionWidth,e.lateralSurfaceMaterial=this.lateralSurfaceMaterial,e},s.prototype.merge=function(i){this.show=e(this.show,i.show),this.innerHalfAngle=e(this.innerHalfAngle,i.innerHalfAngle),this.outerHalfAngle=e(this.outerHalfAngle,i.outerHalfAngle),this.minimumClockAngle=e(this.minimumClockAngle,i.minimumClockAngle),this.maximumClockAngle=e(this.maximumClockAngle,i.maximumClockAngle),this.radius=e(this.radius,i.radius),this.showIntersection=e(this.showIntersection,i.showIntersection),this.intersectionColor=e(this.intersectionColor,i.intersectionColor),this.intersectionWidth=e(this.intersectionWidth,i.intersectionWidth),this.lateralSurfaceMaterial=e(this.lateralSurfaceMaterial,i.lateralSurfaceMaterial)},s}),t("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),t("text!CustomSensorVolumeFS.glsl",[],function(){return"#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\nuniform bool u_showIntersection;\nuniform bool u_showThroughEllipsoid;\nuniform float u_sensorRadius;\nuniform float u_normalDirection;\nvarying vec3 v_positionWC;\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvec4 getColor(float sensorRadius, vec3 pointEC)\n{\nczm_materialInput materialInput;\nvec3 pointMC = (czm_inverseModelView * vec4(pointEC, 1.0)).xyz;\nmaterialInput.st = sensor2dTextureCoordinates(sensorRadius, pointMC);\nmaterialInput.str = pointMC / sensorRadius;\nvec3 positionToEyeEC = -v_positionEC;\nmaterialInput.positionToEyeEC = positionToEyeEC;\nvec3 normalEC = normalize(v_normalEC);\nmaterialInput.normalEC = u_normalDirection * normalEC;\nczm_material material = czm_getMaterial(materialInput);\nreturn mix(czm_phong(normalize(positionToEyeEC), material,czm_lightDirectionEC), vec4(material.diffuse, material.alpha), 0.4);\n}\nbool isOnBoundary(float value, float epsilon)\n{\nfloat width = getIntersectionWidth();\nfloat tolerance = width * epsilon;\n#ifdef GL_OES_standard_derivatives\nfloat delta = max(abs(dFdx(value)), abs(dFdy(value)));\nfloat pixels = width * delta;\nfloat temp = abs(value);\nreturn temp < tolerance && temp < pixels || (delta < 10.0 * tolerance && temp - delta < tolerance && temp < pixels);\n#else\nreturn abs(value) < tolerance;\n#endif\n}\nvec4 shade(bool isOnBoundary)\n{\nif (u_showIntersection && isOnBoundary)\n{\nreturn getIntersectionColor();\n}\nreturn getColor(u_sensorRadius, v_positionEC);\n}\nfloat ellipsoidSurfaceFunction(vec3 point)\n{\nvec3 scaled = czm_ellipsoidInverseRadii * point;\nreturn dot(scaled, scaled) - 1.0;\n}\nvoid main()\n{\nvec3 sensorVertexWC = czm_model[3].xyz;\nvec3 sensorVertexEC = czm_modelView[3].xyz;\nfloat ellipsoidValue = ellipsoidSurfaceFunction(v_positionWC);\nif (!u_showThroughEllipsoid)\n{\nif (ellipsoidValue < 0.0)\n{\ndiscard;\n}\nif (inSensorShadow(sensorVertexWC, v_positionWC))\n{\ndiscard;\n}\n}\nif (distance(v_positionEC, sensorVertexEC) > u_sensorRadius)\n{\ndiscard;\n}\nbool isOnEllipsoid = isOnBoundary(ellipsoidValue, czm_epsilon3);\ngl_FragColor = shade(isOnEllipsoid);\n}"}),t("text!CustomSensorVolumeVS.glsl",[],function(){return"attribute vec4 position;\nattribute vec3 normal;\nvarying vec3 v_positionWC;\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nconst float EARTH_RADIUS_MAX = 6378137.;\nconst float EARTH_RADIUS_MIN = 6356752.314;\nvec3 ecef2all(vec3 ecef){\nconst float a = EARTH_RADIUS_MAX;\nconst float a2 = a * a;\nconst float e = 8.1819190842622E-2;\nconst float e2 = e * e;\nconst float b = sqrt(a2*(1.-e2));\nconst float b2 = b * b;\nconst float ep = sqrt((a2 - b2) / b2);\nconst float ep2 = ep * ep;\nfloat p = sqrt(ecef.x * ecef.x + ecef.y * ecef.y);\nfloat th = atan(a * ecef.z, b * p);\nfloat sin_th = sin(th);\nfloat sin_th3 = sin_th * sin_th * sin_th;\nfloat cos_th = cos(th);\nfloat cos_th3 = cos_th * cos_th * cos_th;\nfloat lon = atan(ecef.y, ecef.x);\nfloat lat = atan(ecef.z + ep2 * b * sin_th3, p - e2 * a * cos_th3);\nfloat sin_lat = sin(lat);\nfloat sin_lat2 = sin_lat * sin_lat;\nfloat N = a / sqrt(1. - e2 * sin_lat2);\nfloat alt = p / cos(lat) - N;\nreturn vec3(alt, lon, lat);\n}\nfloat wrapLon(float lon){\nvec3 origin = czm_model[3].xyz / czm_model[3].w;\nfloat origin_lon = atan(origin.y, origin.x);\nfloat lon_right = mod(lon, czm_twoPi);\nfloat lon_left = lon_right - czm_twoPi;\nif(origin_lon > 1.){\nreturn lon_right;\n}\nif(origin_lon < -1.){\nreturn lon_left;\n}\nreturn lon;\n}\nvec3 computeEquirectangular(vec3 world_pos){\nvec3 all = ecef2all(world_pos);\nfloat alt = all.x;\nfloat lon = all.y;\nfloat lat = all.z;\nlon = wrapLon(lon);\nvec3 projection = vec3(alt, lon * EARTH_RADIUS_MAX, lat * EARTH_RADIUS_MAX);\nreturn projection;\n}\nvec3 computeScenePosition(vec3 world_pos){\nif(czm_sceneMode == czm_sceneMode3D){\nreturn world_pos;\n}\nvec3 projected_pos = computeEquirectangular(world_pos);\nreturn mix(projected_pos, world_pos, czm_morphTime);\n}\nvec3 projectPointOnEllipsoid(vec3 world_pos){\nvec3 sensor_origin_wc = czm_model[3].xyz / czm_model[3].w;\nvec3 slope = world_pos - sensor_origin_wc;\nfloat a = dot(slope, slope);\nfloat b = -2. * dot(slope, -sensor_origin_wc);\nfloat c = dot(sensor_origin_wc, sensor_origin_wc) - EARTH_RADIUS_MIN * EARTH_RADIUS_MIN;\nfloat discriminant = b * b - 4. * a * c;\nfloat sqrt_discriminant = sqrt(discriminant);\nfloat t1 = (-b + sqrt_discriminant) / (2. * a);\nfloat t2 = (-b - sqrt_discriminant) / (2. * a);\nfloat t = min(t1, t2);\nvec3 projected_point = sensor_origin_wc + slope * t;\nbool is_intersecting = discriminant > 0.;\nreturn is_intersecting && (t > 0.) ? projected_point : world_pos;\n}\nvoid main()\n{\nvec4 world_pos = czm_model * position;\nvec3 projected_world_pos = projectPointOnEllipsoid(world_pos.xyz);\nvec3 scene_wc = computeScenePosition(projected_world_pos);\ngl_Position = czm_viewProjection * vec4(scene_wc, 1.);\nv_positionWC = projected_world_pos;\nv_positionEC = (czm_view * vec4(projected_world_pos, 1.)).xyz;\nv_normalEC = czm_normal * normal;\n}"}),t("text!SensorVolume.glsl",[],function(){return"uniform vec4 u_intersectionColor;\nuniform float u_intersectionWidth;\nbool inSensorShadow(vec3 coneVertexWC, vec3 pointWC)\n{\nvec3 D = czm_ellipsoidInverseRadii;\nvec3 q = D * coneVertexWC;\nfloat qMagnitudeSquared = dot(q, q);\nfloat test = qMagnitudeSquared - 1.0;\nvec3 temp = D * pointWC - q;\nfloat d = dot(temp, q);\nreturn (d < -test) && (d / length(temp) < -sqrt(test));\n}\nvec4 getIntersectionColor()\n{\nreturn u_intersectionColor;\n}\nfloat getIntersectionWidth()\n{\nreturn u_intersectionWidth;\n}\nvec2 sensor2dTextureCoordinates(float sensorRadius, vec3 pointMC)\n{\nfloat t = pointMC.z / sensorRadius;\nfloat s = 1.0 + (atan(pointMC.y, pointMC.x) / czm_twoPi);\ns = s - floor(s);\nreturn vec2(s, t);\n}"}),t("CustomSensorVolume",["Cesium/Core/BoundingSphere","Cesium/Core/Cartesian3","Cesium/Core/Color","Cesium/Core/combine","Cesium/Core/ComponentDatatype","Cesium/Core/defaultValue","Cesium/Core/defined","Cesium/Core/destroyObject","Cesium/Core/DeveloperError","Cesium/Core/Matrix4","Cesium/Core/PrimitiveType","Cesium/Renderer/Buffer","Cesium/Renderer/BufferUsage","Cesium/Renderer/ShaderSource","Cesium/Renderer/DrawCommand","Cesium/Renderer/RenderState","Cesium/Renderer/ShaderProgram","Cesium/Renderer/VertexArray","text!./CustomSensorVolumeFS.glsl","text!./CustomSensorVolumeVS.glsl","text!./SensorVolume.glsl","Cesium/Scene/BlendingState","Cesium/Scene/CullFace","Cesium/Scene/Material","Cesium/Scene/Pass","Cesium/Scene/SceneMode"],function(e,i,t,o,r,n,s,a,l,u,c,h,d,m,f,C,p,_,g,v,S,y,w,A,M,x){"use strict";function b(e,t){const o=e.length,r=[];for(var n=o-2,s=o-1,a=0;o>a;n=s++,s=a++){var l=i.fromSpherical(e[n],k),u=i.fromSpherical(e[s],H),c=i.fromSpherical(e[a],z),h=Math.max(i.angleBetween(l,u),i.angleBetween(u,c)),d=t/Math.cos(.5*h),m=i.multiplyByScalar(u,d,new i);r.push(m)}return r}function E(i){const t=i._directions,o=isFinite(i.radius)?i.radius:D,r=t.reduce(function(e,i){return null===i?e.push([]):e[e.length-1].push(i),e},[[]]),n=r.map(function(e){return b(e,o)}),s=n.flat().splice(0,0,Cesium.Cartesian3.ZERO);return e.fromPoints(s,i._boundingSphere),n}function I(e){const t=e.length;for(var o=[],r=t-1,n=0;t>n;r=n++){var s=e[r],a=e[n],l=i.normalize(i.cross(a,s,O),O);o.push(0),o.push(0),o.push(0),o.push(l.x),o.push(l.y),o.push(l.z),o.push(a.x),o.push(a.y),o.push(a.z),o.push(l.x),o.push(l.y),o.push(l.z),o.push(s.x),o.push(s.y),o.push(s.z),o.push(l.x),o.push(l.y),o.push(l.z)}return o}function P(e,i){const t=(e._directions,E(e)),o=t.map(I).flat();var n=h.createVertexBuffer({context:i,typedArray:new Float32Array(o),usage:d.STATIC_DRAW}),s=6*Float32Array.BYTES_PER_ELEMENT,a=[{index:T.position,vertexBuffer:n,componentsPerAttribute:3,componentDatatype:r.FLOAT,offsetInBytes:0,strideInBytes:s},{index:T.normal,vertexBuffer:n,componentsPerAttribute:3,componentDatatype:r.FLOAT,offsetInBytes:3*Float32Array.BYTES_PER_ELEMENT,strideInBytes:s}];return new _({context:i,attributes:a})}var T={position:0,normal:1},D=5906376272e3,V=function(i){i=n(i,n.EMPTY_OBJECT),this._pickId=void 0,this._pickPrimitive=n(i._pickPrimitive,this),this._frontFaceColorCommand=new f,this._backFaceColorCommand=new f,this._pickCommand=new f,this._boundingSphere=new e,this._boundingSphereWC=new e,this._frontFaceColorCommand.primitiveType=c.TRIANGLES,this._frontFaceColorCommand.boundingVolume=this._boundingSphereWC,this._frontFaceColorCommand.owner=this,this._backFaceColorCommand.primitiveType=this._frontFaceColorCommand.primitiveType,this._backFaceColorCommand.boundingVolume=this._frontFaceColorCommand.boundingVolume,this._backFaceColorCommand.owner=this,this._pickCommand.primitiveType=this._frontFaceColorCommand.primitiveType,this._pickCommand.boundingVolume=this._frontFaceColorCommand.boundingVolume,this._pickCommand.owner=this,this.show=n(i.show,!0),this.showIntersection=n(i.showIntersection,!0),this.showThroughEllipsoid=n(i.showThroughEllipsoid,!1),this._showThroughEllipsoid=this.showThroughEllipsoid,this.modelMatrix=u.clone(n(i.modelMatrix,u.IDENTITY)),this._modelMatrix=new u,this.radius=n(i.radius,Number.POSITIVE_INFINITY),this._directions=void 0,this._directionsDirty=!1,this.directions=s(i.directions)?i.directions:[],this.lateralSurfaceMaterial=s(i.lateralSurfaceMaterial)?i.lateralSurfaceMaterial:A.fromType(A.ColorType),this._lateralSurfaceMaterial=void 0,this._translucent=void 0,this.intersectionColor=t.clone(n(i.intersectionColor,t.WHITE)),this.intersectionWidth=n(i.intersectionWidth,5),this.id=i.id,this._id=void 0;var o=this;this._uniforms={u_showThroughEllipsoid:function(){return o.showThroughEllipsoid},u_showIntersection:function(){return o.showIntersection},u_sensorRadius:function(){return isFinite(o.radius)?o.radius:D},u_intersectionColor:function(){return o.intersectionColor},u_intersectionWidth:function(){return o.intersectionWidth},u_normalDirection:function(){return 1},u_model:function(){return o.modelMatrix}},this._mode=x.SCENE2D};Object.defineProperties(V.prototype,{directions:{get:function(){return this._directions},set:function(e){this._directions!==e&&(this._directions=e,this._directionsDirty=!0)}}});var k=new i,H=new i,z=new i,O=new i;return V.prototype.update=function(i){if(this._mode=i.mode,this.show){var t=i.context,r=i.commandList,n=this.lateralSurfaceMaterial.isTranslucent();if(this._showThroughEllipsoid!==this.showThroughEllipsoid||!s(this._frontFaceColorCommand.renderState)||this._translucent!==n){this._showThroughEllipsoid=this.showThroughEllipsoid,this._translucent=n;var a;n?(a=C.fromCache({depthTest:{enabled:!this.showThroughEllipsoid},depthMask:!1,blending:y.ALPHA_BLEND,cull:{enabled:!0,face:w.BACK}}),this._frontFaceColorCommand.renderState=a,this._frontFaceColorCommand.pass=M.TRANSLUCENT,a=C.fromCache({depthTest:{enabled:!this.showThroughEllipsoid},depthMask:!1,blending:y.ALPHA_BLEND,cull:{enabled:!0,face:w.FRONT}}),this._backFaceColorCommand.renderState=a,this._backFaceColorCommand.pass=M.TRANSLUCENT,a=C.fromCache({depthTest:{enabled:!this.showThroughEllipsoid},depthMask:!1,blending:y.ALPHA_BLEND}),this._pickCommand.renderState=a):(a=t.createRenderState({depthTest:{enabled:!0},depthMask:!0}),this._frontFaceColorCommand.renderState=a,this._frontFaceColorCommand.pass=M.OPAQUE,a=C.fromCache({depthTest:{enabled:!0},depthMask:!0}),this._pickCommand.renderState=a)}var l=this._directionsDirty;if(l){this._directionsDirty=!1,this._va=this._va&&this._va.destroy();var c=this._directions;c&&c.length>=3&&(this._frontFaceColorCommand.vertexArray=P(this,t),this._backFaceColorCommand.vertexArray=this._frontFaceColorCommand.vertexArray,this._pickCommand.vertexArray=this._frontFaceColorCommand.vertexArray)}if(s(this._frontFaceColorCommand.vertexArray)){var h=i.passes,d=!u.equals(this.modelMatrix,this._modelMatrix);d&&u.clone(this.modelMatrix,this._modelMatrix),(l||d)&&(this._boundingSphere.radius=1e8,e.transform(this._boundingSphere,this.modelMatrix,this._boundingSphereWC)),this._frontFaceColorCommand.modelMatrix=this.modelMatrix,this._backFaceColorCommand.modelMatrix=this._frontFaceColorCommand.modelMatrix,this._pickCommand.modelMatrix=this._frontFaceColorCommand.modelMatrix;var f=this._lateralSurfaceMaterial!==this.lateralSurfaceMaterial;if(this._lateralSurfaceMaterial=this.lateralSurfaceMaterial,this._lateralSurfaceMaterial.update(t),h.render){var _=this._frontFaceColorCommand,A=this._backFaceColorCommand;if(f||!s(_.shaderProgram)){var x=new m({sources:[S,this._lateralSurfaceMaterial.shaderSource,g]});_.shaderProgram=p.replaceCache({context:t,shaderProgram:_.shaderProgram,vertexShaderSource:v,fragmentShaderSource:x,attributeLocations:T}),_.uniformMap=o(this._uniforms,this._lateralSurfaceMaterial._uniforms),A.shaderProgram=_.shaderProgram,A.uniformMap=o(this._uniforms,this._lateralSurfaceMaterial._uniforms),A.uniformMap.u_normalDirection=function(){return-1}}n?r.push(this._backFaceColorCommand,this._frontFaceColorCommand):r.push(this._frontFaceColorCommand)}if(h.pick){var b=this._pickCommand;if(s(this._pickId)&&this._id===this.id||(this._id=this.id,this._pickId=this._pickId&&this._pickId.destroy(),this._pickId=t.createPickId({primitive:this._pickPrimitive,id:this.id})),f||!s(b.shaderProgram)){var E=new m({sources:[S,this._lateralSurfaceMaterial.shaderSource,g],pickColorQualifier:"uniform"});b.shaderProgram=p.replaceCache({context:t,shaderProgram:b.shaderProgram,vertexShaderSource:v,fragmentShaderSource:E,attributeLocations:T});var I=this,D={czm_pickColor:function(){return I._pickId.color}};b.uniformMap=o(o(this._uniforms,this._lateralSurfaceMaterial._uniforms),D)}b.pass=n?M.TRANSLUCENT:M.OPAQUE,r.push(b)}}}},V.prototype.isDestroyed=function(){return!1},V.prototype.destroy=function(){return this._frontFaceColorCommand.vertexArray=this._frontFaceColorCommand.vertexArray&&this._frontFaceColorCommand.vertexArray.destroy(),this._frontFaceColorCommand.shaderProgram=this._frontFaceColorCommand.shaderProgram&&this._frontFaceColorCommand.shaderProgram.destroy(),this._pickCommand.shaderProgram=this._pickCommand.shaderProgram&&this._pickCommand.shaderProgram.destroy(),this._pickId=this._pickId&&this._pickId.destroy(),a(this)},V}),t("ConicSensorVisualizer",["Cesium/Core/AssociativeArray","Cesium/Core/Cartesian3","Cesium/Core/Color","Cesium/Core/defined","Cesium/Core/destroyObject","Cesium/Core/DeveloperError","Cesium/Core/Math","Cesium/Core/Matrix3","Cesium/Core/Matrix4","Cesium/Core/Quaternion","Cesium/Core/Spherical","./CustomSensorVolume","Cesium/DataSources/MaterialProperty","Cesium/DataSources/Property"],function(e,i,t,o,r,n,s,a,l,u,c,h,d,m){"use strict";function f(e,i,t,r){var n=i[e];o(n)||(i[e]=n=new c),n.clock=t,n.cone=r,n.magnitude=1}function C(e,i,t,o,r){var n,a=e.directions,l=0,u=s.toRadians(2);if(0===i&&t===s.TWO_PI)for(n=0;n<s.TWO_PI;n+=u)f(l++,a,n,r);else{for(n=i;t>n;n+=u)f(l++,a,n,r);if(f(l++,a,t,r),o){for(n=t;n>i;n-=u)f(l++,a,n,o);f(l++,a,i,o)}else f(l++,a,t,0)}a.length=l,e.directions=a}function p(e,i,t){var r=i[e.id];if(o(r)){var n=r.primitive;t.remove(n),n.isDestroyed()||n.destroy(),delete i[e.id]}}var _=t.WHITE,g=1,v=Number.POSITIVE_INFINITY,S=new a,y=new i,w=new u,A=function(i,t){t.collectionChanged.addEventListener(A.prototype._onCollectionChanged,this),this._scene=i,this._primitives=i.primitives,this._entityCollection=t,this._hash={},this._entitiesToVisualize=new e,this._onCollectionChanged(t,t.values,[],[])};return A.prototype.update=function(e){for(var t=this._entitiesToVisualize.values,r=this._hash,n=this._primitives,c=0,f=t.length;f>c;c++){var p,A,M=t[c],x=M._conicSensor,b=r[M.id],E=M.isShowing&&M.isAvailable(e)&&m.getValueOrDefault(x._show,e,!0);if(E&&(p=m.getValueOrUndefined(M._position,e,y),A=m.getValueOrUndefined(M._orientation,e,w),E=o(p)&&o(A)),E){var I=o(b)?b.primitive:void 0;o(I)||(I=new h,I.id=M,n.add(I),b={primitive:I,position:void 0,orientation:void 0,minimumClockAngle:void 0,maximumClockAngle:void 0,innerHalfAngle:void 0,outerHalfAngle:void 0},r[M.id]=b),i.equals(p,b.position)&&u.equals(A,b.orientation)||(l.fromRotationTranslation(a.fromQuaternion(A,S),p,I.modelMatrix),b.position=i.clone(p,b.position),b.orientation=u.clone(A,b.orientation)),I.show=!0;var P=m.getValueOrDefault(x._minimumClockAngle,e,0),T=m.getValueOrDefault(x._maximumClockAngle,e,s.TWO_PI),D=m.getValueOrDefault(x._innerHalfAngle,e,0),V=m.getValueOrDefault(x._outerHalfAngle,e,Math.PI);(P!==b.minimumClockAngle||T!==b.maximumClockAngle||D!==b.innerHalfAngle||V!==b.outerHalfAngle)&&(C(I,P,T,D,V),b.innerHalfAngle=D,b.maximumClockAngle=T,b.outerHalfAngle=V,b.minimumClockAngle=P),I.radius=m.getValueOrDefault(x._radius,e,v),I.lateralSurfaceMaterial=d.getValue(e,x._lateralSurfaceMaterial,I.lateralSurfaceMaterial),I.intersectionColor=m.getValueOrClonedDefault(x._intersectionColor,e,_,I.intersectionColor),I.intersectionWidth=m.getValueOrDefault(x._intersectionWidth,e,g)}else o(b)&&(b.primitive.show=!1)}return!0},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){for(var e=this._entitiesToVisualize.values,i=this._hash,t=this._primitives,o=e.length-1;o>-1;o--)p(e[o],i,t);return r(this)},A.prototype._onCollectionChanged=function(e,i,t,r){var n,s,a=this._entitiesToVisualize,l=this._hash,u=this._primitives;for(n=i.length-1;n>-1;n--)s=i[n],o(s._conicSensor)&&o(s._position)&&o(s._orientation)&&a.set(s.id,s);for(n=r.length-1;n>-1;n--)s=r[n],o(s._conicSensor)&&o(s._position)&&o(s._orientation)?a.set(s.id,s):(p(s,l,u),a.remove(s.id));for(n=t.length-1;n>-1;n--)s=t[n],p(s,l,u),a.remove(s.id)},A}),t("CustomPatternSensorGraphics",["Cesium/Core/defaultValue","Cesium/Core/defined","Cesium/Core/DeveloperError","Cesium/Core/Event","Cesium/DataSources/createMaterialPropertyDescriptor","Cesium/DataSources/createPropertyDescriptor"],function(e,i,t,o,r,n){"use strict";var s=function(i){this._directions=void 0,this._directionsSubscription=void 0,this._lateralSurfaceMaterial=void 0,this._lateralSurfaceMaterialSubscription=void 0,this._intersectionColor=void 0,this._intersectionColorSubscription=void 0,this._intersectionWidth=void 0,this._intersectionWidthSubscription=void 0,this._showIntersection=void 0,this._showIntersectionSubscription=void 0,this._radius=void 0,this._radiusSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._definitionChanged=new o,this.merge(e(i,e.EMPTY_OBJECT))};return Object.defineProperties(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},directions:n("directions"),lateralSurfaceMaterial:r("lateralSurfaceMaterial"),intersectionColor:n("intersectionColor"),intersectionWidth:n("intersectionWidth"),showIntersection:n("showIntersection"),radius:n("radius"),show:n("show")}),s.prototype.clone=function(e){return i(e)||(e=new s),e.directions=this.directions,e.radius=this.radius,e.show=this.show,e.showIntersection=this.showIntersection,e.intersectionColor=this.intersectionColor,e.intersectionWidth=this.intersectionWidth,e.lateralSurfaceMaterial=this.lateralSurfaceMaterial,e},s.prototype.merge=function(i){this.directions=e(this.directions,i.directions),this.radius=e(this.radius,i.radius),this.show=e(this.show,i.show),this.showIntersection=e(this.showIntersection,i.showIntersection),this.intersectionColor=e(this.intersectionColor,i.intersectionColor),this.intersectionWidth=e(this.intersectionWidth,i.intersectionWidth),this.lateralSurfaceMaterial=e(this.lateralSurfaceMaterial,i.lateralSurfaceMaterial)},s}),t("CustomPatternSensorVisualizer",["Cesium/Core/AssociativeArray","Cesium/Core/Cartesian3","Cesium/Core/Color","Cesium/Core/defined","Cesium/Core/destroyObject","Cesium/Core/DeveloperError","Cesium/Core/Matrix3","Cesium/Core/Matrix4","Cesium/Core/Quaternion","./CustomSensorVolume","Cesium/DataSources/MaterialProperty","Cesium/DataSources/Property"],function(e,i,t,o,r,n,s,a,l,u,c,h){"use strict";function d(e,i,t){var r=i[e.id];if(o(r)){var n=r.primitive;t.remove(n),n.isDestroyed()||n.destroy(),delete i[e.id]}}var m=t.WHITE,f=1,C=Number.POSITIVE_INFINITY,p=new s,_=new i,g=new l,v=function(i,t){t.collectionChanged.addEventListener(v.prototype._onCollectionChanged,this),this._scene=i,this._primitives=i.primitives,this._entityCollection=t,this._hash={},this._entitiesToVisualize=new e,this._onCollectionChanged(t,t.values,[],[])};return v.prototype.update=function(e){for(var t=this._entitiesToVisualize.values,r=this._hash,n=this._primitives,d=0,v=t.length;v>d;d++){var S,y,w,A=t[d],M=A._customPatternSensor,x=r[A.id],b=A.isShowing&&A.isAvailable(e)&&h.getValueOrDefault(M._show,e,!0);if(b&&(S=h.getValueOrUndefined(A._position,e,_),y=h.getValueOrUndefined(A._orientation,e,g),w=h.getValueOrUndefined(M._directions,e),b=o(S)&&o(y)&&o(w)),b){var E=o(x)?x.primitive:void 0;o(E)||(E=new u,E.id=A,n.add(E),x={primitive:E,position:void 0,orientation:void 0},r[A.id]=x),i.equals(S,x.position)&&l.equals(y,x.orientation)||(a.fromRotationTranslation(s.fromQuaternion(y,p),S,E.modelMatrix),x.position=i.clone(S,x.position),x.orientation=l.clone(y,x.orientation)),E.show=!0,E.directions=w,E.radius=h.getValueOrDefault(M._radius,e,C),E.lateralSurfaceMaterial=c.getValue(e,M._lateralSurfaceMaterial,E.lateralSurfaceMaterial),E.intersectionColor=h.getValueOrClonedDefault(M._intersectionColor,e,m,E.intersectionColor),E.intersectionWidth=h.getValueOrDefault(M._intersectionWidth,e,f)}else o(x)&&(x.primitive.show=!1)}return!0},v.prototype.isDestroyed=function(){return!1},v.prototype.destroy=function(){for(var e=this._entitiesToVisualize.values,i=this._hash,t=this._primitives,o=e.length-1;o>-1;o--)d(e[o],i,t);return r(this)},v.prototype._onCollectionChanged=function(e,i,t,r){var n,s,a=this._entitiesToVisualize,l=this._hash,u=this._primitives;for(n=i.length-1;n>-1;n--)s=i[n],o(s._customPatternSensor)&&o(s._position)&&o(s._orientation)&&a.set(s.id,s);for(n=r.length-1;n>-1;n--)s=r[n],o(s._customPatternSensor)&&o(s._position)&&o(s._orientation)?a.set(s.id,s):(d(s,l,u),a.remove(s.id));for(n=t.length-1;n>-1;n--)s=t[n],d(s,l,u),a.remove(s.id)},v}),t("RectangularSensorGraphics",["Cesium/Core/defaultValue","Cesium/Core/defined","Cesium/Core/DeveloperError","Cesium/Core/Event","Cesium/DataSources/createPropertyDescriptor"],function(e,i,t,o,r){"use strict";var n=function(){this._xHalfAngle=void 0,this._xHalfAngleSubscription=void 0,this._yHalfAngle=void 0,this._yHalfAngleSubscription=void 0,this._lateralSurfaceMaterial=void 0,this._lateralSurfaceMaterialSubscription=void 0,this._intersectionColor=void 0,this._intersectionColorSubscription=void 0,this._intersectionWidth=void 0,this._intersectionWidthSubscription=void 0,this._showIntersection=void 0,this._showIntersectionSubscription=void 0,this._radius=void 0,this._radiusSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._definitionChanged=new o};return Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},xHalfAngle:r("xHalfAngle"),yHalfAngle:r("yHalfAngle"),lateralSurfaceMaterial:r("lateralSurfaceMaterial"),intersectionColor:r("intersectionColor"),intersectionWidth:r("intersectionWidth"),showIntersection:r("showIntersection"),radius:r("radius"),show:r("show")}),n.prototype.clone=function(e){return i(e)||(e=new n),e.xHalfAngle=this.xHalfAngle,e.yHalfAngle=this.yHalfAngle,e.radius=this.radius,e.show=this.show,e.showIntersection=this.showIntersection,e.intersectionColor=this.intersectionColor,e.intersectionWidth=this.intersectionWidth,e.lateralSurfaceMaterial=this.lateralSurfaceMaterial,e},n.prototype.merge=function(i){this.xHalfAngle=e(this.xHalfAngle,i.xHalfAngle),this.yHalfAngle=e(this.yHalfAngle,i.yHalfAngle),this.radius=e(this.radius,i.radius),this.show=e(this.show,i.show),this.showIntersection=e(this.showIntersection,i.showIntersection),this.intersectionColor=e(this.intersectionColor,i.intersectionColor),this.intersectionWidth=e(this.intersectionWidth,i.intersectionWidth),this.lateralSurfaceMaterial=e(this.lateralSurfaceMaterial,i.lateralSurfaceMaterial)},n}),t("RectangularPyramidSensorVolume",["Cesium/Core/clone","Cesium/Core/defaultValue","Cesium/Core/defined","Cesium/Core/destroyObject","Cesium/Core/DeveloperError","Cesium/Core/Math","Cesium/Core/Spherical","./CustomSensorVolume"],function(e,i,t,o,r,n,s,a){"use strict";function l(e,i,o,r){var n=i[e];t(n)||(i[e]=n=new s),n.clock=o,n.cone=r,n.magnitude=1}function u(e){var i=e._customSensor.directions,t=Math.tan(Math.min(e._xHalfAngle,n.toRadians(89))),o=Math.tan(Math.min(e._yHalfAngle,n.toRadians(89))),r=Math.atan(t/o),s=Math.atan(Math.sqrt(t*t+o*o));l(0,i,r,s),l(1,i,n.toRadians(180)-r,s),l(2,i,n.toRadians(180)+r,s),l(3,i,-r,s),i.length=4,e._customSensor.directions=i}var c=function(t){t=i(t,i.EMPTY_OBJECT);var o=e(t);o._pickPrimitive=i(t._pickPrimitive,this),o.directions=void 0,this._customSensor=new a(o),this._xHalfAngle=i(t.xHalfAngle,n.PI_OVER_TWO),this._yHalfAngle=i(t.yHalfAngle,n.PI_OVER_TWO),u(this)};return Object.defineProperties(c.prototype,{xHalfAngle:{get:function(){return this._xHalfAngle},set:function(e){this._xHalfAngle!==e&&(this._xHalfAngle=e,u(this))}},yHalfAngle:{get:function(){return this._yHalfAngle},set:function(e){this._yHalfAngle!==e&&(this._yHalfAngle=e,u(this))}},show:{get:function(){return this._customSensor.show},set:function(e){this._customSensor.show=e}},showIntersection:{get:function(){return this._customSensor.showIntersection},set:function(e){this._customSensor.showIntersection=e}},showThroughEllipsoid:{get:function(){return this._customSensor.showThroughEllipsoid},set:function(e){this._customSensor.showThroughEllipsoid=e}},modelMatrix:{get:function(){return this._customSensor.modelMatrix},set:function(e){this._customSensor.modelMatrix=e}},radius:{get:function(){return this._customSensor.radius},set:function(e){this._customSensor.radius=e}},lateralSurfaceMaterial:{get:function(){return this._customSensor.lateralSurfaceMaterial},set:function(e){this._customSensor.lateralSurfaceMaterial=e}},intersectionColor:{get:function(){return this._customSensor.intersectionColor},set:function(e){this._customSensor.intersectionColor=e}},intersectionWidth:{get:function(){return this._customSensor.intersectionWidth},set:function(e){this._customSensor.intersectionWidth=e}},id:{get:function(){return this._customSensor.id},set:function(e){this._customSensor.id=e}}}),c.prototype.update=function(e){this._customSensor.update(e)},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){return this._customSensor=this._customSensor&&this._customSensor.destroy(),o(this)},c}),t("RectangularSensorVisualizer",["Cesium/Core/AssociativeArray","Cesium/Core/Cartesian3","Cesium/Core/Color","Cesium/Core/defined","Cesium/Core/destroyObject","Cesium/Core/DeveloperError","Cesium/Core/Math","Cesium/Core/Matrix3","Cesium/Core/Matrix4","Cesium/Core/Quaternion","./RectangularPyramidSensorVolume","Cesium/DataSources/MaterialProperty","Cesium/DataSources/Property"],function(e,i,t,o,r,n,s,a,l,u,c,h,d){"use strict";
function m(e,i,t){var r=i[e.id];if(o(r)){var n=r.primitive;t.remove(n),n.isDestroyed()||n.destroy(),delete i[e.id]}}var f=t.WHITE,C=1,p=Number.POSITIVE_INFINITY,_=new a,g=new i,v=new u,S=function(i,t){t.collectionChanged.addEventListener(S.prototype._onCollectionChanged,this),this._scene=i,this._primitives=i.primitives,this._entityCollection=t,this._hash={},this._entitiesToVisualize=new e,this._onCollectionChanged(t,t.values,[],[])};return S.prototype.update=function(e){for(var t=this._entitiesToVisualize.values,r=this._hash,n=this._primitives,m=0,S=t.length;S>m;m++){var y,w,A=t[m],M=A._rectangularSensor,x=r[A.id],b=A.isShowing&&A.isAvailable(e)&&d.getValueOrDefault(M._show,e,!0);if(b&&(y=d.getValueOrUndefined(A._position,e,g),w=d.getValueOrUndefined(A._orientation,e,v),b=o(y)&&o(w)),b){var E=o(x)?x.primitive:void 0;o(E)||(E=new c,E.id=A,n.add(E),x={primitive:E,position:void 0,orientation:void 0},r[A.id]=x),i.equals(y,x.position)&&u.equals(w,x.orientation)||(l.fromRotationTranslation(a.fromQuaternion(w,_),y,E.modelMatrix),x.position=i.clone(y,x.position),x.orientation=u.clone(w,x.orientation)),E.show=!0,E.xHalfAngle=d.getValueOrDefault(M._xHalfAngle,e,s.PI_OVER_TWO),E.yHalfAngle=d.getValueOrDefault(M._yHalfAngle,e,s.PI_OVER_TWO),E.radius=d.getValueOrDefault(M._radius,e,p),E.lateralSurfaceMaterial=h.getValue(e,M._lateralSurfaceMaterial,E.lateralSurfaceMaterial),E.intersectionColor=d.getValueOrClonedDefault(M._intersectionColor,e,f,E.intersectionColor),E.intersectionWidth=d.getValueOrDefault(M._intersectionWidth,e,C)}else o(x)&&(x.primitive.show=!1)}return!0},S.prototype.isDestroyed=function(){return!1},S.prototype.destroy=function(){for(var e=this._entitiesToVisualize.values,i=this._hash,t=this._primitives,o=e.length-1;o>-1;o--)m(e[o],i,t);return r(this)},S.prototype._onCollectionChanged=function(e,i,t,r){var n,s,a=this._entitiesToVisualize,l=this._hash,u=this._primitives;for(n=i.length-1;n>-1;n--)s=i[n],o(s._rectangularSensor)&&o(s._position)&&o(s._orientation)&&a.set(s.id,s);for(n=r.length-1;n>-1;n--)s=r[n],o(s._rectangularSensor)&&o(s._position)&&o(s._orientation)?a.set(s.id,s):(m(s,l,u),a.remove(s.id));for(n=t.length-1;n>-1;n--)s=t[n],m(s,l,u),a.remove(s.id)},S}),t("initialize",["Cesium/Core/Cartesian3","Cesium/Core/Color","Cesium/Core/defined","Cesium/Core/Spherical","Cesium/Core/TimeInterval","Cesium/DataSources/CzmlDataSource","Cesium/DataSources/DataSourceDisplay","./ConicSensorGraphics","./ConicSensorVisualizer","./CustomPatternSensorGraphics","./CustomPatternSensorVisualizer","./RectangularSensorGraphics","./RectangularSensorVisualizer"],function(e,i,t,o,r,n,s,a,l,u,c,h,d){"use strict";function m(i,r,n,s,a){var l,u,c=[],h=r.unitSpherical,d=r.spherical,m=r.unitCartesian,f=r.cartesian;if(t(h)){for(l=0,u=h.length;u>l;l+=2)c.push(new o(h[l],h[l+1]));r.array=c}else if(t(d)){for(l=0,u=d.length;u>l;l+=3)c.push(new o(d[l],d[l+1],d[l+2]));r.array=c}else if(t(m)){for(l=0,u=m.length;u>l;l+=3){var C=o.fromCartesian3(new e(m[l],m[l+1],m[l+2]));o.normalize(C,C),c.push(C)}r.array=c}else if(t(f)){for(l=0,u=f.length;u>l;l+=3)c.push(o.fromCartesian3(new e(f[l],f[l+1],f[l+2])));r.array=c}g(Array,i,"directions",r,n,s,a)}function f(e,t,o,r,n){g(Boolean,e,"show",t.show,o,r,n),g(Number,e,"radius",t.radius,o,r,n),g(Boolean,e,"showIntersection",t.showIntersection,o,r,n),g(i,e,"intersectionColor",t.intersectionColor,o,r,n),g(Number,e,"intersectionWidth",t.intersectionWidth,o,r,n),v(e,"lateralSurfaceMaterial",t.lateralSurfaceMaterial,o,r,n)}function C(e,i,o,n){var s=i.agi_conicSensor;if(t(s)){var l,u=s.interval;t(u)&&(S.iso8601=u,l=r.fromIso8601(S));var c=e.conicSensor;t(c)||(e.addProperty("conicSensor"),e.conicSensor=c=new a),f(c,s,l,n,o),g(Number,c,"innerHalfAngle",s.innerHalfAngle,l,n,o),g(Number,c,"outerHalfAngle",s.outerHalfAngle,l,n,o),g(Number,c,"minimumClockAngle",s.minimumClockAngle,l,n,o),g(Number,c,"maximumClockAngle",s.maximumClockAngle,l,n,o)}}function p(e,i,o,n){var s=i.agi_customPatternSensor;if(t(s)){var a,l=s.interval;t(l)&&(S.iso8601=l,a=r.fromIso8601(S));var c=e.customPatternSensor;t(c)||(e.addProperty("customPatternSensor"),e.customPatternSensor=c=new u),f(c,s,a,n,o);var h=s.directions;if(t(h))if(Array.isArray(h))for(var d=h.length,C=0;d>C;C++)m(c,h[C],a,n,o);else m(c,h,a,n,o)}}function _(e,i,o,n){var s=i.agi_rectangularSensor;if(t(s)){var a,l=s.interval;t(l)&&(S.iso8601=l,a=r.fromIso8601(S));var u=e.rectangularSensor;t(u)||(e.addProperty("rectangularSensor"),e.rectangularSensor=u=new h),f(u,s,a,n,o),g(Number,u,"xHalfAngle",s.xHalfAngle,a,n,o),g(Number,u,"yHalfAngle",s.yHalfAngle,a,n,o)}}var g=n.processPacketData,v=n.processMaterialPacketData,S={iso8601:void 0},y=!1,w=function(){if(!y){n.updaters.push(C,p,_);var e=s.defaultVisualizersCallback;s.defaultVisualizersCallback=function(i,t,o){var r=o.entities,n=e(i,t,o);return n.concat([new l(i,r),new c(i,r),new d(i,r)])},y=!0}};return w}),t("CesiumSensors",["./initialize","./ConicSensorGraphics","./ConicSensorVisualizer","./CustomPatternSensorGraphics","./CustomPatternSensorVisualizer","./CustomSensorVolume","./RectangularPyramidSensorVolume","./RectangularSensorGraphics","./RectangularSensorVisualizer"],function(e,i,t,o,r,n,s,a,l){"use strict";return e(),{ConicSensorGraphics:i,ConicSensorVisualizer:t,CustomPatternSensorGraphics:o,CustomPatternSensorVisualizer:r,CustomSensorVolume:n,RectangularPyramidSensorVolume:s,RectangularSensorGraphics:a,RectangularSensorVisualizer:l}}),function(){"use strict";t("Cesium/Core/defaultValue",function(){return Cesium.defaultValue}),t("Cesium/Core/defined",function(){return Cesium.defined}),t("Cesium/Core/DeveloperError",function(){return Cesium.DeveloperError}),t("Cesium/Core/Event",function(){return Cesium.Event}),t("Cesium/DataSources/createMaterialPropertyDescriptor",function(){return Cesium.createMaterialPropertyDescriptor}),t("Cesium/DataSources/createPropertyDescriptor",function(){return Cesium.createPropertyDescriptor}),t("Cesium/Core/AssociativeArray",function(){return Cesium.AssociativeArray}),t("Cesium/Core/Cartesian3",function(){return Cesium.Cartesian3}),t("Cesium/Core/Color",function(){return Cesium.Color}),t("Cesium/Core/destroyObject",function(){return Cesium.destroyObject}),t("Cesium/Core/Math",function(){return Cesium.Math}),t("Cesium/Core/Matrix3",function(){return Cesium.Matrix3}),t("Cesium/Core/Matrix4",function(){return Cesium.Matrix4}),t("Cesium/Core/Quaternion",function(){return Cesium.Quaternion}),t("Cesium/Core/Spherical",function(){return Cesium.Spherical}),t("Cesium/DataSources/MaterialProperty",function(){return Cesium.MaterialProperty}),t("Cesium/DataSources/Property",function(){return Cesium.Property}),t("Cesium/Core/BoundingSphere",function(){return Cesium.BoundingSphere}),t("Cesium/Core/combine",function(){return Cesium.combine}),t("Cesium/Core/ComponentDatatype",function(){return Cesium.ComponentDatatype}),t("Cesium/Core/PrimitiveType",function(){return Cesium.PrimitiveType}),t("Cesium/Renderer/Buffer",function(){return Cesium.Buffer}),t("Cesium/Renderer/BufferUsage",function(){return Cesium.BufferUsage}),t("Cesium/Renderer/ShaderSource",function(){return Cesium.ShaderSource}),t("Cesium/Renderer/DrawCommand",function(){return Cesium.DrawCommand}),t("Cesium/Renderer/RenderState",function(){return Cesium.RenderState}),t("Cesium/Renderer/ShaderProgram",function(){return Cesium.ShaderProgram}),t("Cesium/Renderer/VertexArray",function(){return Cesium.VertexArray}),t("Cesium/Scene/BlendingState",function(){return Cesium.BlendingState}),t("Cesium/Scene/CullFace",function(){return Cesium.CullFace}),t("Cesium/Scene/Material",function(){return Cesium.Material}),t("Cesium/Scene/Pass",function(){return Cesium.Pass}),t("Cesium/Scene/SceneMode",function(){return Cesium.SceneMode}),t("Cesium/Core/clone",function(){return Cesium.clone}),t("Cesium/Core/TimeInterval",function(){return Cesium.TimeInterval}),t("Cesium/DataSources/CzmlDataSource",function(){return Cesium.CzmlDataSource}),t("Cesium/DataSources/DataSourceDisplay",function(){return Cesium.DataSourceDisplay}),i(["CesiumSensors"],function(e){var i="undefined"!=typeof window?window:"undefined"!=typeof self?self:{};i.CesiumSensors=e},void 0,!0)}()}();